<!DOCTYPE html>
<html>
<head>
	<title>Drums</title>
<link rel="stylesheet" type="text/css" href="style.css">	
</head>
<body>
	
<div class="keys">
	<div data-keys="65" class="key">
		<kbd>A</kbd>
	<span class="sound">sound1</span>
</div> 

	<div data-keys="83" class="key">
		<kbd>S</kbd>
	<span class="sound">sound2</span>
</div> 

	<div data-keys="68" class="key">
		<kbd>D</kbd>
	<span class="sound">sound3</span>
</div> 

	<div data-keys="70" class="key">
		<kbd>F</kbd>
	<span class="sound">sound4</span>
</div> 

	<div data-keys="71" class="key">
		<kbd>G</kbd>
	<span class="sound">sound5</span>
</div> 

</div>

<audio data-key="65" src="sounds/1.mp3"></audio>
<audio data-key="83" src="sounds/2.mp3"></audio>
<audio data-key="68" src="sounds/3.mp3"></audio>
<audio data-key="70" src="sounds/4.mp3"></audio>
<audio data-key="71" src="sounds/5.mp3"></audio>


<script>
	function playSound(e){

		const audio=document.querySelector(`audio[data-key="${e.keyCode}"]`);

		const key=document.querySelector(`.key[data-keys="${e.keyCode}"]`);

		if (!audio) return;

		audio.currentTime=0;

		audio.play();

		key.classList.add('playing');
}
		function removeTransition(e)
		{
			if (e.propertyName!=='transform') return;
			this.classList.remove('playing'); 
			console.log(this);
		}
		const keys=document.querySelectorAll('.key');
		keys.forEach(key => key.addEventListener('transitioned',removeTransition));
		window.addEventListener('keydown',playSound);

</script>

	

</body>
</html>
